# 面向对象

面向对象是 Java 最重要的特性，Java 是彻底的、纯粹的面向对象语言，在 Java 中一切都是对象

面向对象的编程思想，按照真实世界客观事物的自然规律进行分析，客观世界中存在什么样的实体，构建的软件
系统就存在什么样的实体

例如，在真实世界的学校里，会有学生和老师等实体，学生有学号、姓名、所在班级等属性，学生还有学习、提问、
吃饭、走路等操作。学生就是`类`

在学校里有张同学、李同学等，这些具体的个体就是`对象`

在现实世界有类和对象，面向对象软件世界也会有，只不过它们会以某种计算机语言编写的程序代码
形式存在，这就是面向对象编程 -- Object Oriented Programming, OOP

## 三个基本特征

封装性、继承性、多态性

## 封装型

封装是隐藏的学问、隐藏的艺术。

封装使外部访问者不能随意存取对象的内部数据，隐藏了对象的内部细节，只保留有限的对外`接口`

好处：

第一，数据安全性

第二，操作对象变得更简单

第三，可扩展性

## 继承性

继承是复用的学问、复用的艺术。

## 多态性

多态性是指在父类中成员变量和成员方法被子类继承之后，可以具有不同的状态或表现行为。

多态是变化的学问、变化的艺术。

## 类

类是 Java 中最重要的引用数据类型，是组成 Java 程序的基本要素，它封装了一类对象的数据和操作

如何声明一个类

```
[public][abstract｜final] class ClassName [extends SuperClassName][implements interfaceNameList] {
  // 类体
}
```

SuperClassName 是父类名，可以省略，如果省略则该类继承 Object 类，Object 类是所有类的根类，
所有类都直接或间接继承 Object

interfaceNameList 是该类实现的接口列表，可以省略，接口列表中的多个接口之间用逗号分隔

在计算机中，类的本质是数据和操作的集合，即成员变量和成员方法

对应于现实世界，类就是物体和物种的抽象

## 成员变量

```
class ClassName {
  [public | protected | private][static][final] type variableName;
}
```

- public, protected, private 修饰符用于封装成员变量

- static 修饰符用于声明静态变量，静态变量为类变量

- final 修饰符用于声明变量，该变量不能被修改

## 成员方法

```
class ClassName {
  [public | protected | private][static][final | abstract][native][synchronized]
    type methodName([paramList])[throws exceptionList] {
      // 方法体
    }
}
```

- final | abstract 不能同时修饰方法，final 修饰的方法不能在子类中覆盖，abstract 用来修饰
  抽象方法，抽象方法必须在子类中被实现

- synchronized 修饰的方法是同步的，当多线程方式同步方法时，只能串行地执行，保证是线程安全的

## 包

在程序代码中给类起一个名字是非常重要的，但有时候会出现非常尴尬的事情，名字会发生冲突

在 Java 中为了防止类、接口、枚举和注释等命名冲突应用了包概念，包本质上是命名空间。
在包中可以定义一组相关的类型(类、接口、枚举和注释)，并为它们提供访问保护和命名空间管理

Java 中使用 package 语句定义包，package 语句应该放在源文件的第一行，在每个源文件中只能有一个
包定义语句

```java
package com.a42work1;

public class Date {}
```

包名一般是公司域名的倒置

如果在源文件中没有定义包，那么类、接口、枚举和注释型文件将会被放进一个无名的包中，也称为默认包

> 当前源文件与要使用的类型在同一个包中，可以不用引入包

## 常用包

Java SE 提供一些常用包，其中包含了 Java 开发中常用的基础类，这些包有

java.lang、java.io、java.net、java.text、java.awt、javax.swing

java.lang 包含了 Java 语言的核心类，Object, Class, String, Math
还有包装类 Boolean, Character, Integer, Long, Float, Double

java.io 包含了多种输入/输出流类，InputStream, OutputStream, Reader, Writer
还有文件管理相关类和接口，File, FileDescriptor 类以及 FileFilter 接口

java.net 包含进行网络操作相关的类，URL, Socket, ServerSocket

java.util 包含一些实用工具类，如集合、日期、日历相关的类和接口

java.text 包含了文本处理、日期格式化和数字格式化等相关的类和接口

## 方法重载

出于使用方便等原因，在设计一个类时将具有相似功能的方法起相同的名字

区别重载方法是根据，参数的个数或参数类型不同，返回类型不能用来区分方法重载

调用哪一个方法，编译器会进行自动类型转换寻找适合版本的方法，如果没有合适的方法，则会发生编译错误

## 访问控制

访问控制分为 4 个等级，私有、默认、保护、公有

## 私有 private

私有级别的成员变量和方法只能在其所在类内部自由使用，在其他类则不允许直接访问

## 默认级别

默认级别没有关键字，也没有访问修饰符，默认级别的成员变量和方法，可以在其所在类内部和同一个包
的其他类中直接访问，但在不同包的类中则不允许直接访问

## 公有级别 public

公有级别的成员变量和方法可以在任何场合被直接访问，是最宽松的一种访问控制等级

## 保护级别 protected

保护级别在同一包中完全与默认访问级别一样，但是不同包中子类能够继承父类中的 protected 变量和方法，
这就是所谓的保护级别，保护某个类的子类都能继承该类的变量和方法

## 访问总结

访问成员有两种方式，一种是调用，即通过类或对对象调用它的成员，另一种是继承，即子类继承父类的
成员变量和方法

- 公有访问级别任何情况下两种方式都可以

- 默认访问级别在同一包中两种访问方式都可以，不能在包之外访问

- 保护访问级别在同一包中与默认访问级别一样，两种访问方式都可以，但是在不同包之外只能
  继承访问

- 私有访问级别只能在本类中通过调用方法访问，不能继承访问

访问类成员时，在能满足使用的前提下，应尽量限制类中成员的可见性，访问级别顺序

私有级别 -> 默认级别 -> 保护级别 -> 公有级别

## 静态变量和静态方法

实例共享的变量，被称为静态变量或类变量，需要用`static`修饰

> 静态方法可以访问静态变量和其他静态方法
> 实例方法可以访问实例变量、其他实例方法、静态变量、静态方法

可以用类名和实例名调用，静态变量和静态方法

## 静态代码块

如果初始化静态变量不是简单常量，需要进行计算才能初始化，可以使用静态代码块，静态代码块在
类第一次加载时执行，并且只执行一次

```java

package com.a42work;

public class Account {
  static double interestRate;
  static {
    System.out.println("静态代码块")
    interestRate = 0.0668;
  }
}
```
