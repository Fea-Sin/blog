# 继承与多态

所有 Java 类包括数组都直接或间接继承了 Object 类，Object 类中定义了一些有关面向对象机制的基本方法，
如`equals()`, `toString()`, `finalize()`等方法

在 Java 中类的继承只能是单继承，多继承可以通过实现多个接口实现

### 调用父类构造方法

当子类实例化时，不仅需要初始化子类成员变量，也需要初始化父类成员变量，初始化父类成员需要调用父类构造方法，
子类使用 super 关键字调用父类构造方法

> super 语句必须位于子类构造方法的第一行。子类构造方法可以没有 super 语句，编译器会调用父类默认构造方法。
> 但父类必须要有默认构造方法

## 成员变量隐藏和方法覆盖

子类继承父类后，有子类有可能声明了与父类一样的成员变量或方法

子类成员会屏蔽父类中的成员变量，如果需要调用父类中的相同名称成员变量则需要 super 关键字

如果子类方法完全与父类方法相同，即相同的方法名、相同的参数列表和相同的返回值，只是方法体不同，这称为子类
覆盖父类方法

`@Override` 注解不是方法覆盖必须的，它只是锦上添花，但添加`@Override` 注解有两个好处

- 提高程序的可读性

- 编译器检查@Override 注解的方法在父类中是否存在，如果不存在则报错

方法重写时应该遵许的原则

- 覆盖后的方法不能比原方法有更严格的访问控制，可以相同。

- 覆盖后的方法不能比原方法产生更多的异常

## 多态概念

发生多态要有三个前提条件

1 继承，子类继承父类

2 覆盖，子类方法覆盖父类的方法

3 声明的变量类型是父类类型，但实例则指向子类实例

多态发生时，Java 虚拟机运行时根据引用变量指向的实例调用它的方法，而不是根据引用变量的类型

### 引用类型检查

有时候需要在运行时判断一个对象是否属于某个引用类型，这时可以使用`instanceof` 运算符

```
obj instanceof type
```

## 引用类型转换

引用类型可以进行转换，但并不是所有的引用类型都能相互转换，只有属于同一棵继承层次树中的引用类型才可以转换

引用类型转换是通过小括号运算符实现，类型转换有两个方向，将父类引用类型变量转换为子类类型，这种转换称为向下转型。
将子类引用类型变量转换为父类类型，这种转换称为向上转型。向下转型需要强制转换，而向上转型是自动的

## final 关键字

在 Java 中 final 关键字的作用很多，能修饰变量、方法和类

final 修饰的变量即成为常量，只能赋值一次

**final 修饰类**

final 修饰的类不能被继承，有时出于设计安全的目的，不想让自己编写的类被别人继承，这是可以使用 final 关键字

**final 修饰方法**

final 修饰的方法不能被子类覆盖
