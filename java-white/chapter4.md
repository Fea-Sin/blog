# 数组

Java 中的数组本身是引用数据类型，它的长度属性是 length，数组可以分为一维数组和多维数组

当数组中每个元素都只带有一个下标时，这种数组就是一维数组，数组是引用数据类型。引用数据类型
在使用前一定要做两件事，声明和初始化

数组的声明就宣告这个数组中元素类型、数组的变量名。数组声明完成后，数组的长度还不能确定，JVM 还没有
给元素分配内存空间

数组声明语法如下

```
元素数据类型[] 数组变量名;

元素数据类型 数据变量名[];
```

> Java 更推荐采用第一种声明方式，把`元素数据类型[]`看成是一个整体
> 第二种是 C 语言数组声明方式

## 数组初始化

声明完成就要对数组进行初始化，数组初始化的过程是为数组每一个元素分配内存空间，并为每一个元素提供初始值，
初始化之后数组的长度就确定下来不能再变化了

> 有些计算机语言虽然提供了可变类型数组，它的长度是可变的，这种数组本质上是创建了一个新的数组对象
> 并非是原始数组的长度发生了变化

数组初始化可以分为静态初始化和动态初始化

静态初始化就是将数组的元素放到大括号中，元素之间用逗号分隔

```java
int[] myArray;
myArray = {21, 42, 3};

// 也可声明时，同时初始化
```

**动态初始化**

动态初始化使用 new 运算符分配指定长度的内存空间

```
new 元素数据类型[数组长度]
```

```java
int[] myArray;
myArray = new int[4];

myArray[0] = 21;
myArray[1] = 42;
myArray[0] = 3;
```

> new 分配数组内存后，数组中的元素内容是数组类型的默认值，不同类型默认值是不同的

这里需要注意的是引用类型数组，每一个元素保存都是指向实际对象的内存地址

## 数组合并

数组长度是不可变，要想合并两个不同的数组，不能通过在一个数组的基础上追加另一个数组实现。
需要创建一个新的数组，新数组长度是两个数组长度之和，然后再将两个数组的内容导入到新数组中

## 多维数组

当数组中每个元素又带有多个下标时，这种数组就是多维数组

### 二维数组声明

```
元素数据类型[][] 数组变量名;
元素数据类型 数组变量名[][];
```

```java
int[][] myArray = {{1,2}, {3, 4}}
```

> 严格意义上说 Java 中并不存在真正意义上的多维数组，只是一维数组，不过数组中的元素也是数组

### 不规则数组

由于 Java 多维数组是数组的数组，因此会衍生出一种不规则数组，规则的 4x3 二维数组有 12 个元素，而不规则数组
就不一定了

```java
int[][] myArray = {{1, 2, 3}, {11}, {21, 22, 23}, {31, 32, 33}}
```

动态初始化不规则数组比较麻烦，不能使用`new int[4][3]`，而是先初始化高位数组，然后在分别逐个初始化低维数组

4 是高维数组长度，3 是低维数组长度

> 下标越界异常(ArrayIndexOutOfBoundsException) 是试图访问不存在的下标时引发的

不规则数组访问和遍历可以使用 for 和 for-each 循环

```java
// 先初始化高维数组
int[][] myArray = new int[4][];

// 逐一初始化低维数组
myArray[0] = new int[2];
myArray[1] = new int[1];
myArray[2] = new int[3];
myArray[3] = new int[3];

for (int[] row : myArray) {
  for (int column : row) {
    System.out.print(column);
    System.out.print('\t');
  }
  System.out.println();
}

```
