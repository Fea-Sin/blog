## Shell 传递参数

我们可以在执行 shell 脚本时，向脚本传递参数，脚本内获取参数的格式为`$n`，`n`代表一个数字，`1`为执行脚本
的第一个参数，`2`为执行脚本的第二个参数，以此类推

`$0`为执行的文件名，包含文件路径

- `$#` 传递到脚本的参数个数

- `$*` 用一个单字符显示所有向脚本传递的参数

- `$$` 脚本运行的当前进程 ID 号

- `$!` 后台运行的最后一个进程的 ID 号

- `$-` 显示 shell 使用的当前选项

- `$?` 显示最后命令的退出状态，`0`表示没有错误

## shell 基本运算符

shell 和其他编程语言一样，支持多种运算符

- 算数运算符

- 关系运算符

- 布尔运算符

- 字符串运算符

- 文件测试运算符

原生 bash 不支持简单的数学运算，但是可以通过其他命令来实现，例如`awk`,`expr`

`expr`是一款表达式计算工具，使用它能完成表达式的求值操作

> 注意需要使用`，包含求值表达式

```bash
val=`expr 2 + 3`
echo "两数之和： ${val}"
```

> 表达式和运算符之间要有空格，例如`2+2`是不对的，必须写成`2 + 2`，这与我们熟悉的大多数编程语言不一样

- `+` 加法

- `-` 减法

- `*` 乘法

- `/` 除法

- `%` 取余

- `==` 相等，用于比较两个数字，相同则返回`true`

- `!=` 不相等，用于比较两个数字，不相同的返回`true`

> 条件表达式要放在方括号之间，并且要有空格，必须写成 `[ $a == $b ]`

> 乘号`*`前必须加反斜杠`\`才能实现乘法运算
>
> `if...then...fi`是条件语句
>
> 在 mac 中的 shell 的`expr`语法是`$(())`，此处表达式中的乘号，不需要转译符号`\`

## 关系运算符

关系运算符只支持数字，不支持字符串，除非字符出的值是数字

- `-eq` 检测两个数是否相等，相等返回 true， [ $a -eq $b ]

- `-ne` 检测两个数是否不相等，不相等返回 true

## 布尔运算符

- `!` 非运算，表达式为 true 则返回 false，`[ !false ]`返回`true`

- `-o` 或运算，有一个表达式为 true 则返回 true，`[ $a -lt 20 -o $b -gt 100 ]`

- `-a` 与运算，两个表达式都为 true 才返回 true，`[ $a -lt 20 -a $b -gt 100 ]`

## 逻辑运算符

- `&&` 逻辑 AND，`[[ $a -lt 100 && $b -gt 100 ]]`

- `||` 逻辑 OR，`[[ $a -lt 100 || $b -gt 100 ]]`

## 字符串运算符

- `=` 检查两个字符串是否相等，相等返回 true，`[ $a = $b ]`

- `!=` 检测两个字符串是否不相等

- `-z` 检测字符串长度是否为`0`，为`0`返回 true，`[ -z $a ]`

- `-n` 检测字符串是否不为`0`，不为`0`返回 true，`[ -n $a ]`

## 文件测试运算符

文件测试运算符用于检测 Unix 文件的各种属性

- `-d file` 检测文件是否是目录，如果是，则返回 true，`[ -d $file ]`

- `-f file` 检测文件是否是普通文件（既不是目录，也不是设备文件），`-f $file`

- `-p file` 检测文件是否是有名管道，`[ -p $file ]`

- `-r file` 检测文件是否可读，`[ -r $file ]`

- `-w file` 检测文件是否可写，`[ -w $file ]`

- `-x file` 检测文件是否可执行，`[ -x $file ]`

- `-s file` 检测文件是否为空（文件大小是否大于 0）不为空返回 true，`[ -s $file ]`

- `-e file` 检测文件（包括目录）是否存在，如果是返回 true，`[ -e $file ]`

## shell echo 命令

**显示变量**

```bash
#!/bin/sh

read name
echo "$name It is a test"
```

`read`命令从标准输入中读取一行，并把输入行的每个字段的值指定给 shell 变量

**显示结果定向至文件**

```bash
echo "It is a test" > myfile
```

**原样输出字符串，不进行转译(用单引号)**

```bash
echo 'hello\"'

# hello\"
```

## Linux set 命令

Linux set 命令用于设置 shell，set 指令能设置所有使用 shell 的执行方式，可依照不同的需要
来设置

`set -e` 若指令传回值不等于 0，则立即退出 shell
