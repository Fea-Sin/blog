# C++ 编程

## 函数重载

C++ 允许用用一函数名定义多个函数，但这些函数必须参数个数不同或类型不同，这就是函数重载

在使用函数重载时，同名函数的功能应当相同或相近，不要用同一函数名去实现几个完全不相干的功能，
这样虽然程序能运行，但是可读性不好。

## 函数模版

函数模版，实际上是建立一个通用函数，其函数类型和形参不具体指定，而用一个虚拟的类型来代表，
这个通用函数就时函数模版。凡是函数体相同的函数都可以用这个模版来代替，而不用定义多个函数，
在调用函数时，系统会根据实参的类型来取代模版中的虚拟类型，从而实现不同函数的功能

```c++
#include<iostream>
using namespace std;

template<typename T>
T min(T a, T b, T c) {
  if ( a > b ) a = b;
  if (a > c) a = c;
  return a;
}

int main() {
  int a = 1, b = 2, c = 3;

  cout<<  min(a, b, c) <<endl;
}
```

可以看到，用函数模版比函数重载更方便，但是它只适用于函数参数个数相同而类型不同的情况

## 函数与指针

函数指针是指函数的指针变量，所以，函数指针首先是个指针变量，而且这个变量指向一个函数。
在 C++在编译时，每一个函数都有一个入口地址，该入口地址就是函数指针所指向的地址。有了
指向函数的指针变量后，就可以用该指针变量调用函数了

函数指针的声明方法是：

```
返回值类型 (*指针变量名)([形参列表]);
```

返回值类型说明函数的返回值类型，(\*指针变量名)括号不能省略

```
int func(int a); // 声明一个函数
int (*f)(int a); // 声明一个函数指针
f = &func;
```

## 引用

对于习惯使用 C 语言进行开发的朋友们，在看到 C++中出现的`&`符号后，可能会犯迷糊，
虽然在使用 C 语言中这个符号代表取地址符，但时在 C++中它却有着不一样的用途，代表着
引用的意思。掌握 C++的`&`符号，有利于增强代码质量和提高代码执行效率

引用是一种变量类型，它用于为一个变量起一个别名

```
类型标识符 &引用名 = 目标变量名;
```

示例

```c++
int a;
int &r = a;
```

引用使用举例

```c++
#include<iostream>
using namespace std;

int main() {
  int a = 2;
  int &r = a;
  a = a  + 4;
  cout<< a << " " <<endl; // 因为a 和r的值会同时改变，所以a和r的值都是6
  r = 10;
  cout<< a << " " <<endl; // r变了，a也会变，所以a和r的值都是10
  return 0;
}
```

## 引用作为参数

将一般变量作为函数的参数，传给形参的是变量的值。如果在执行函数期间形参的值发生了变化，
并不传回给实参。因为在调用函数时，形参和实参不是同一个存储单元

使用引用传递函数的参数时，在内存中并没有产生实参的副本，而是对实参直接操作。

当参数传递的数据较大时，用引用比用一般变量传递参数的效率更高，所占空间更少

使用指针作为函数的参数虽然也能达到与使用引用同样的效果，但是在被调函数中同样
要给形参分配存储单元，且需要重复使用`*指针变量名`的形式进行运算，这很容易产生
错误且程序的阅读性较差。另一方面，在函数调用点，必须用变量的地址作为实参，这些都
不太方便

## 常引用

如果既要提高程序的效率，又要使传递给函数的数据不在函数中被改变，就应该使用常引用

常引用的声明方式

```
const 类型标识符 &引用名 = 目标变量名;
```

用这种方式声明的引用，不能通过引用对目标变量的值进行修改，在程序中使用引用的目标
成为`const`类型，从而保证了引用的安全性

```c++
int a;
const int &r = a;
r = 1; // 错误
```
